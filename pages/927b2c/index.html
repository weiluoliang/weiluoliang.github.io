<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wiregurd | 知识库</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="探索技术本质。">
    <meta name="keywords" content="Java,个人技术博客,技术文档,学习,面试,后端技术">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.873ff7bb.css" as="style"><link rel="preload" href="/assets/js/app.35624881.js" as="script"><link rel="preload" href="/assets/js/2.b1d33bec.js" as="script"><link rel="preload" href="/assets/js/20.c778c242.js" as="script"><link rel="prefetch" href="/assets/js/10.a3d6e763.js"><link rel="prefetch" href="/assets/js/11.a075f9db.js"><link rel="prefetch" href="/assets/js/12.4a163eba.js"><link rel="prefetch" href="/assets/js/13.4fe578d0.js"><link rel="prefetch" href="/assets/js/14.6a00c78e.js"><link rel="prefetch" href="/assets/js/15.43bbf4ff.js"><link rel="prefetch" href="/assets/js/16.3be5d0be.js"><link rel="prefetch" href="/assets/js/17.734a8be4.js"><link rel="prefetch" href="/assets/js/18.e9687f6a.js"><link rel="prefetch" href="/assets/js/19.b54477df.js"><link rel="prefetch" href="/assets/js/21.2e02b602.js"><link rel="prefetch" href="/assets/js/22.b88262b2.js"><link rel="prefetch" href="/assets/js/23.fcf4e28d.js"><link rel="prefetch" href="/assets/js/24.db893b89.js"><link rel="prefetch" href="/assets/js/25.361049ed.js"><link rel="prefetch" href="/assets/js/26.bc4e8b28.js"><link rel="prefetch" href="/assets/js/27.c5e8ace6.js"><link rel="prefetch" href="/assets/js/28.1df023f1.js"><link rel="prefetch" href="/assets/js/29.ed73817a.js"><link rel="prefetch" href="/assets/js/3.ed627764.js"><link rel="prefetch" href="/assets/js/30.355343c7.js"><link rel="prefetch" href="/assets/js/31.fc6af977.js"><link rel="prefetch" href="/assets/js/32.b6b84d2b.js"><link rel="prefetch" href="/assets/js/33.6fc26313.js"><link rel="prefetch" href="/assets/js/34.80d78839.js"><link rel="prefetch" href="/assets/js/35.9351a10c.js"><link rel="prefetch" href="/assets/js/36.b3120bb6.js"><link rel="prefetch" href="/assets/js/37.28d7ce4b.js"><link rel="prefetch" href="/assets/js/38.b4e8885e.js"><link rel="prefetch" href="/assets/js/39.ac550afa.js"><link rel="prefetch" href="/assets/js/4.5438f462.js"><link rel="prefetch" href="/assets/js/40.afd61e67.js"><link rel="prefetch" href="/assets/js/41.267f7b70.js"><link rel="prefetch" href="/assets/js/42.a6860220.js"><link rel="prefetch" href="/assets/js/43.8d7491e1.js"><link rel="prefetch" href="/assets/js/44.ed979632.js"><link rel="prefetch" href="/assets/js/45.509b7ff9.js"><link rel="prefetch" href="/assets/js/46.64f42e13.js"><link rel="prefetch" href="/assets/js/47.fecbb5d2.js"><link rel="prefetch" href="/assets/js/48.daf0e29f.js"><link rel="prefetch" href="/assets/js/49.c98e9529.js"><link rel="prefetch" href="/assets/js/5.3c195c8e.js"><link rel="prefetch" href="/assets/js/50.b1747810.js"><link rel="prefetch" href="/assets/js/6.3a4d766c.js"><link rel="prefetch" href="/assets/js/7.84d8f532.js"><link rel="prefetch" href="/assets/js/8.623a1c89.js"><link rel="prefetch" href="/assets/js/9.520fe64d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.873ff7bb.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pages/005276/" class="nav-link">AI技术</a></div><div class="nav-item"><a href="/pages/e29a38/" class="nav-link">并发编程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/pages/6b2d2f/" class="nav-link">友情连接</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="img/20220426173025.jpg"> <div class="blogger-info"><h3>luoliang</h3> <span>吾生也有涯，知也无涯</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/pages/005276/" class="nav-link">AI技术</a></div><div class="nav-item"><a href="/pages/e29a38/" class="nav-link">并发编程</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/pages/6b2d2f/" class="nav-link">友情连接</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/41ac94/" class="sidebar-link">灰度发布、蓝绿部署、金丝雀都是啥？</a></li><li><a href="/pages/a2eb25/" class="sidebar-link">ELK日志系统安装</a></li><li><a href="/pages/472f13/" class="sidebar-link">nacos优雅停机</a></li><li><a href="/pages/9cfbc8/" class="sidebar-link">搭建jenkins部署spring-boot项目</a></li><li><a href="/pages/d3d1ac/" class="sidebar-link">安装RocketMQ</a></li><li><a href="/pages/ddd560/" class="sidebar-link">安装监控grafana</a></li><li><a href="/pages/ad8699/" class="sidebar-link">SpringBoot启动脚本</a></li><li><a href="/pages/af8ba8/" class="sidebar-link">Linux常用命令</a></li><li><a href="/pages/927b2c/" aria-current="page" class="active sidebar-link">wiregurd</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#一、安装准备" class="sidebar-link">一、安装准备</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#环境假设" class="sidebar-link">环境假设</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#二、安装-wireguard" class="sidebar-link">二、安装 WireGuard</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#ubuntu-debian-系统" class="sidebar-link">Ubuntu/Debian 系统</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#centos-rhel-系统" class="sidebar-link">CentOS/RHEL 系统</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#windows-系统" class="sidebar-link">Windows 系统</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#三、生成密钥对" class="sidebar-link">三、生成密钥对</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#在每台设备上执行" class="sidebar-link">在每台设备上执行：</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#为三台设备生成密钥" class="sidebar-link">为三台设备生成密钥：</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#四、配置文件" class="sidebar-link">四、配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#_1-中转服务器配置-etc-wireguard-wg0-conf" class="sidebar-link">1. 中转服务器配置 (/etc/wireguard/wg0.conf)</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#_2-局域网a配置-etc-wireguard-wg0-conf" class="sidebar-link">2. 局域网A配置 (/etc/wireguard/wg0.conf)</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#_3-局域网b配置-etc-wireguard-wg0-conf" class="sidebar-link">3. 局域网B配置 (/etc/wireguard/wg0.conf)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#五、启动服务" class="sidebar-link">五、启动服务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#在所有设备上执行" class="sidebar-link">在所有设备上执行：</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#常用管理命令" class="sidebar-link">常用管理命令：</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#六、防火墙配置" class="sidebar-link">六、防火墙配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#中转服务器防火墙" class="sidebar-link">中转服务器防火墙：</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#云服务器安全组" class="sidebar-link">云服务器安全组：</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#七、测试连接" class="sidebar-link">七、测试连接</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#_1-检查-wireguard-状态" class="sidebar-link">1. 检查 WireGuard 状态</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#_2-测试网络连通性" class="sidebar-link">2. 测试网络连通性</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#_3-检查是否实现直连" class="sidebar-link">3. 检查是否实现直连</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#八、故障排除" class="sidebar-link">八、故障排除</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#常见问题" class="sidebar-link">常见问题：</a></li><li class="sidebar-sub-header level3"><a href="/pages/927b2c/#调试命令" class="sidebar-link">调试命令：</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#九、优化建议" class="sidebar-link">九、优化建议</a></li><li class="sidebar-sub-header level2"><a href="/pages/927b2c/#十、注意事项" class="sidebar-link">十、注意事项</a></li></ul></li><li><a href="/pages/3708b3/" class="sidebar-link">tailscale异地组网</a></li><li><a href="/pages/bbaae9/" class="sidebar-link">caddy安装</a></li><li><a href="/pages/a97870/" class="sidebar-link">解决centos7 yum失效的问题</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=DevOps" title="分类" data-v-06225672>DevOps</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/weiluoliang" target="_blank" title="作者" class="beLink" data-v-06225672>weiluoliang</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-06-19</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">wiregurd<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="使用-wiregurd搭建vpn"><a href="#使用-wiregurd搭建vpn" class="header-anchor">#</a> 使用 wiregurd搭建VPN</h1> <h1 id="wireguard-完整安装配置指南"><a href="#wireguard-完整安装配置指南" class="header-anchor">#</a> WireGuard 完整安装配置指南</h1> <h2 id="一、安装准备"><a href="#一、安装准备" class="header-anchor">#</a> 一、安装准备</h2> <h3 id="环境假设"><a href="#环境假设" class="header-anchor">#</a> 环境假设</h3> <ul><li>中转服务器：云服务器，Ubuntu 20.04+，公网IP</li> <li>局域网A：192.168.1.0/24，网关设备安装 WireGuard</li> <li>局域网B：192.168.2.0/24，网关设备安装 WireGuard</li> <li>WireGuard 虚拟网段：10.0.0.0/24</li></ul> <h2 id="二、安装-wireguard"><a href="#二、安装-wireguard" class="header-anchor">#</a> 二、安装 WireGuard</h2> <h3 id="ubuntu-debian-系统"><a href="#ubuntu-debian-系统" class="header-anchor">#</a> Ubuntu/Debian 系统</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 更新系统</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade <span class="token parameter variable">-y</span>

<span class="token comment"># 安装 WireGuard</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> wireguard <span class="token parameter variable">-y</span>

<span class="token comment"># 安装工具</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> wireguard-tools <span class="token parameter variable">-y</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="centos-rhel-系统"><a href="#centos-rhel-系统" class="header-anchor">#</a> CentOS/RHEL 系统</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装 EPEL 源</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> epel-release <span class="token parameter variable">-y</span>

<span class="token comment"># 安装 WireGuard</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> wireguard-tools <span class="token parameter variable">-y</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="windows-系统"><a href="#windows-系统" class="header-anchor">#</a> Windows 系统</h3> <ol><li>下载官方客户端：https://www.wireguard.com/install/</li> <li>运行安装程序</li> <li>启动 WireGuard 应用</li></ol> <h2 id="三、生成密钥对"><a href="#三、生成密钥对" class="header-anchor">#</a> 三、生成密钥对</h2> <h3 id="在每台设备上执行"><a href="#在每台设备上执行" class="header-anchor">#</a> 在每台设备上执行：</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 创建配置目录</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/wireguard
<span class="token builtin class-name">cd</span> /etc/wireguard

<span class="token comment"># 生成私钥</span>
wg genkey <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> server-private.key
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> server-private.key

<span class="token comment"># 生成公钥</span>
<span class="token function">sudo</span> <span class="token function">cat</span> server-private.key <span class="token operator">|</span> wg pubkey <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> server-public.key
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="为三台设备生成密钥"><a href="#为三台设备生成密钥" class="header-anchor">#</a> 为三台设备生成密钥：</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 中转服务器</span>
wg genkey <span class="token operator">|</span> <span class="token function">tee</span> server-private.key <span class="token operator">|</span> wg pubkey <span class="token operator">&gt;</span> server-public.key

<span class="token comment"># 局域网A</span>
wg genkey <span class="token operator">|</span> <span class="token function">tee</span> clientA-private.key <span class="token operator">|</span> wg pubkey <span class="token operator">&gt;</span> clientA-public.key

<span class="token comment"># 局域网B  </span>
wg genkey <span class="token operator">|</span> <span class="token function">tee</span> clientB-private.key <span class="token operator">|</span> wg pubkey <span class="token operator">&gt;</span> clientB-public.key
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="四、配置文件"><a href="#四、配置文件" class="header-anchor">#</a> 四、配置文件</h2> <h3 id="_1-中转服务器配置-etc-wireguard-wg0-conf"><a href="#_1-中转服务器配置-etc-wireguard-wg0-conf" class="header-anchor">#</a> 1. 中转服务器配置 (/etc/wireguard/wg0.conf)</h3> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Interface</span><span class="token punctuation">]</span></span>
<span class="token comment"># 服务器私钥</span>
<span class="token key attr-name">PrivateKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;server-private.key 内容&gt;</span>
<span class="token comment"># 服务器在 WireGuard 网络中的 IP</span>
<span class="token key attr-name">Address</span> <span class="token punctuation">=</span> <span class="token value attr-value">10.0.0.1/24</span>
<span class="token comment"># 监听端口</span>
<span class="token key attr-name">ListenPort</span> <span class="token punctuation">=</span> <span class="token value attr-value">51820</span>
<span class="token comment"># 启用 IP 转发</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">sysctl -w net.ipv4.ip_forward=1</span>
<span class="token comment"># 添加 iptables 规则</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -A FORWARD -i wg0 -j ACCEPT</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -A FORWARD -o wg0 -j ACCEPT</span>
<span class="token comment"># 停止时清理规则</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -D FORWARD -i wg0 -j ACCEPT</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -D FORWARD -o wg0 -j ACCEPT</span>

<span class="token comment"># 局域网A</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Peer</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PublicKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;clientA-public.key 内容&gt;</span>
<span class="token comment"># 允许的 IP 范围</span>
<span class="token key attr-name">AllowedIPs</span> <span class="token punctuation">=</span> <span class="token value attr-value">10.0.0.2/32, 192.168.1.0/24</span>

<span class="token comment"># 局域网B</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Peer</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PublicKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;clientB-public.key 内容&gt;</span>
<span class="token key attr-name">AllowedIPs</span> <span class="token punctuation">=</span> <span class="token value attr-value">10.0.0.3/32, 192.168.2.0/24</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_2-局域网a配置-etc-wireguard-wg0-conf"><a href="#_2-局域网a配置-etc-wireguard-wg0-conf" class="header-anchor">#</a> 2. 局域网A配置 (/etc/wireguard/wg0.conf)</h3> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Interface</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PrivateKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;clientA-private.key 内容&gt;</span>
<span class="token key attr-name">Address</span> <span class="token punctuation">=</span> <span class="token value attr-value">10.0.0.2/24</span>
<span class="token comment"># 启用 IP 转发</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">sysctl -w net.ipv4.ip_forward=1</span>
<span class="token comment"># 添加路由规则</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -A FORWARD -i wg0 -j ACCEPT</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -A FORWARD -o wg0 -j ACCEPT</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -t nat -A POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -D FORWARD -i wg0 -j ACCEPT</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -D FORWARD -o wg0 -j ACCEPT</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -t nat -D POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE</span>

<span class="token comment"># 连接到中转服务器</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Peer</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PublicKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;server-public.key 内容&gt;</span>
<span class="token key attr-name">Endpoint</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;中转服务器公网IP&gt;:51820</span>
<span class="token key attr-name">AllowedIPs</span> <span class="token punctuation">=</span> <span class="token value attr-value">10.0.0.0/24, 192.168.2.0/24</span>
<span class="token key attr-name">PersistentKeepalive</span> <span class="token punctuation">=</span> <span class="token value attr-value">25</span>

<span class="token comment"># 尝试直连局域网B</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Peer</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PublicKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;clientB-public.key 内容&gt;</span>
<span class="token key attr-name">AllowedIPs</span> <span class="token punctuation">=</span> <span class="token value attr-value">192.168.2.0/24</span>
<span class="token key attr-name">PersistentKeepalive</span> <span class="token punctuation">=</span> <span class="token value attr-value">25</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_3-局域网b配置-etc-wireguard-wg0-conf"><a href="#_3-局域网b配置-etc-wireguard-wg0-conf" class="header-anchor">#</a> 3. 局域网B配置 (/etc/wireguard/wg0.conf)</h3> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Interface</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PrivateKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;clientB-private.key 内容&gt;</span>
<span class="token key attr-name">Address</span> <span class="token punctuation">=</span> <span class="token value attr-value">10.0.0.3/24</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">sysctl -w net.ipv4.ip_forward=1</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -A FORWARD -i wg0 -j ACCEPT</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -A FORWARD -o wg0 -j ACCEPT</span>
<span class="token key attr-name">PostUp</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -t nat -A POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -D FORWARD -i wg0 -j ACCEPT</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -D FORWARD -o wg0 -j ACCEPT</span>
<span class="token key attr-name">PostDown</span> <span class="token punctuation">=</span> <span class="token value attr-value">iptables -t nat -D POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE</span>

<span class="token comment"># 连接到中转服务器</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Peer</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PublicKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;server-public.key 内容&gt;</span>
<span class="token key attr-name">Endpoint</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;中转服务器公网IP&gt;:51820</span>
<span class="token key attr-name">AllowedIPs</span> <span class="token punctuation">=</span> <span class="token value attr-value">10.0.0.0/24, 192.168.1.0/24</span>
<span class="token key attr-name">PersistentKeepalive</span> <span class="token punctuation">=</span> <span class="token value attr-value">25</span>

<span class="token comment"># 尝试直连局域网A</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Peer</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">PublicKey</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;clientA-public.key 内容&gt;</span>
<span class="token key attr-name">AllowedIPs</span> <span class="token punctuation">=</span> <span class="token value attr-value">192.168.1.0/24</span>
<span class="token key attr-name">PersistentKeepalive</span> <span class="token punctuation">=</span> <span class="token value attr-value">25</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="五、启动服务"><a href="#五、启动服务" class="header-anchor">#</a> 五、启动服务</h2> <h3 id="在所有设备上执行"><a href="#在所有设备上执行" class="header-anchor">#</a> 在所有设备上执行：</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 设置配置文件权限</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> /etc/wireguard/wg0.conf

<span class="token comment"># 启动 WireGuard</span>
<span class="token function">sudo</span> wg-quick up wg0

<span class="token comment"># 设置开机自启</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> wg-quick@wg0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="常用管理命令"><a href="#常用管理命令" class="header-anchor">#</a> 常用管理命令：</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看状态</span>
<span class="token function">sudo</span> wg show

<span class="token comment"># 停止服务</span>
<span class="token function">sudo</span> wg-quick down wg0

<span class="token comment"># 重启服务</span>
<span class="token function">sudo</span> wg-quick down wg0 <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> wg-quick up wg0

<span class="token comment"># 查看系统日志</span>
<span class="token function">sudo</span> journalctl <span class="token parameter variable">-u</span> wg-quick@wg0 <span class="token parameter variable">-f</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="六、防火墙配置"><a href="#六、防火墙配置" class="header-anchor">#</a> 六、防火墙配置</h2> <h3 id="中转服务器防火墙"><a href="#中转服务器防火墙" class="header-anchor">#</a> 中转服务器防火墙：</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># Ubuntu/Debian (ufw)</span>
<span class="token function">sudo</span> ufw allow <span class="token number">51820</span>/udp
<span class="token function">sudo</span> ufw reload

<span class="token comment"># CentOS/RHEL (firewalld)</span>
<span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--permanent</span> --add-port<span class="token operator">=</span><span class="token number">51820</span>/udp
<span class="token function">sudo</span> firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="云服务器安全组"><a href="#云服务器安全组" class="header-anchor">#</a> 云服务器安全组：</h3> <ul><li>开放入站规则：UDP 51820 端口</li> <li>来源：0.0.0.0/0</li></ul> <h2 id="七、测试连接"><a href="#七、测试连接" class="header-anchor">#</a> 七、测试连接</h2> <h3 id="_1-检查-wireguard-状态"><a href="#_1-检查-wireguard-状态" class="header-anchor">#</a> 1. 检查 WireGuard 状态</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> wg show
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-测试网络连通性"><a href="#_2-测试网络连通性" class="header-anchor">#</a> 2. 测试网络连通性</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 从局域网A测试</span>
<span class="token function">ping</span> <span class="token number">10.0</span>.0.1    <span class="token comment"># 测试到中转服务器</span>
<span class="token function">ping</span> <span class="token number">10.0</span>.0.3    <span class="token comment"># 测试到局域网B的 WireGuard IP</span>
<span class="token function">ping</span> <span class="token number">192.168</span>.2.1 <span class="token comment"># 测试到局域网B的网关</span>

<span class="token comment"># 从局域网B测试</span>
<span class="token function">ping</span> <span class="token number">10.0</span>.0.1    <span class="token comment"># 测试到中转服务器</span>
<span class="token function">ping</span> <span class="token number">10.0</span>.0.2    <span class="token comment"># 测试到局域网A的 WireGuard IP</span>
<span class="token function">ping</span> <span class="token number">192.168</span>.1.1 <span class="token comment"># 测试到局域网A的网关</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-检查是否实现直连"><a href="#_3-检查是否实现直连" class="header-anchor">#</a> 3. 检查是否实现直连</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看 WireGuard 连接信息</span>
<span class="token function">sudo</span> wg show wg0

<span class="token comment"># 查看路由表</span>
<span class="token function">ip</span> route show table all

<span class="token comment"># 测试延迟</span>
<span class="token function">ping</span> <span class="token parameter variable">-c</span> <span class="token number">10</span> <span class="token number">192.168</span>.2.1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="八、故障排除"><a href="#八、故障排除" class="header-anchor">#</a> 八、故障排除</h2> <h3 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题：</h3> <ol><li><p><strong>连接失败</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 检查防火墙</span>
<span class="token function">sudo</span> ufw status
<span class="token comment"># 检查端口监听</span>
<span class="token function">sudo</span> <span class="token function">netstat</span> <span class="token parameter variable">-ulnp</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">51820</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p><strong>无法访问内网</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 检查 IP 转发</span>
<span class="token function">cat</span> /proc/sys/net/ipv4/ip_forward
<span class="token comment"># 检查 iptables 规则</span>
<span class="token function">sudo</span> iptables <span class="token parameter variable">-L</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-v</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p><strong>密钥错误</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 重新生成密钥对</span>
wg genkey <span class="token operator">|</span> <span class="token function">tee</span> private.key <span class="token operator">|</span> wg pubkey <span class="token operator">&gt;</span> public.key
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <h3 id="调试命令"><a href="#调试命令" class="header-anchor">#</a> 调试命令：</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看详细日志</span>
<span class="token function">sudo</span> journalctl <span class="token parameter variable">-u</span> wg-quick@wg0 <span class="token parameter variable">-f</span>

<span class="token comment"># 手动测试配置</span>
<span class="token function">sudo</span> wg-quick up wg0 <span class="token parameter variable">--verbose</span>

<span class="token comment"># 检查网络接口</span>
<span class="token function">ip</span> addr show wg0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="九、优化建议"><a href="#九、优化建议" class="header-anchor">#</a> 九、优化建议</h2> <ol><li><strong>定期更新系统和 WireGuard</strong></li> <li><strong>监控连接状态和延迟</strong></li> <li><strong>备份配置文件</strong></li> <li><strong>使用强密码保护密钥文件</strong></li> <li><strong>考虑使用 DNS 解析内网设备</strong></li></ol> <h2 id="十、注意事项"><a href="#十、注意事项" class="header-anchor">#</a> 十、注意事项</h2> <ul><li>确保所有设备时间同步</li> <li>密钥文件权限设置为 600</li> <li>防火墙正确配置</li> <li>网络段不要冲突</li> <li>定期检查连接状态</li></ul></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/06/19, 11:56:30</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/af8ba8/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Linux常用命令</div></a> <a href="/pages/3708b3/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">tailscale异地组网</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/af8ba8/" class="prev">Linux常用命令</a></span> <span class="next"><a href="/pages/3708b3/">tailscale异地组网</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/a97870/"><div>
            解决centos7 yum失效的问题
            <!----></div></a> <span class="date">06-25</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/bbaae9/"><div>
            caddy安装
            <!----></div></a> <span class="date">06-23</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/3708b3/"><div>
            tailscale异地组网
            <!----></div></a> <span class="date">06-20</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:luoliang.wei@foxmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/weiluoliang" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2025
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.35624881.js" defer></script><script src="/assets/js/2.b1d33bec.js" defer></script><script src="/assets/js/20.c778c242.js" defer></script>
  </body>
</html>
