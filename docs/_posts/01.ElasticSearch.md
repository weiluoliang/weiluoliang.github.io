---
title: ElasticSearch
date: 2022-11-05 22:34:05
permalink: /pages/91bde2/
sidebar: auto
categories:
  - 随笔
tags:
  - 
author: 
  name: weiluoliang
  link: https://github.com/weiluoliang
---



## 倒排索引

使用`分词器` 对文本进行拆分，对单词做索引，记录单词所在的文档（doc）。

## 分词器

### standard 

没有办法对中文进行合理分词的，只是将每个中文字符一个一个的切割开来，比如说「中国人」就会简单的拆分为 中、国、人

### Ik-分词器

https://zq99299.github.io/note-book/elasticsearch-senior/ik/30-ik-introduce.html#ik-%E5%88%86%E8%AF%8D%E5%99%A8%E7%AE%80%E4%BB%8B

```sh
# 自己拉取源码进行打包
git clone https://github.com/medcl/elasticsearch-analysis-ik
git checkout tags/v5.2.0
mvn package
```



## 如何进行分片

> ***提示：\*** *避免分片过大，因为这样会对集群从故障中恢复造成不利影响。尽管并没有关于分片大小的固定限值，但是人们通常将 50GB 作为分片上限，而且这一限值在各种用例中都已得到验证。*

https://www.elastic.co/cn/blog/how-many-shards-should-i-have-in-my-elasticsearch-cluster

### 数据分片不是越多越好

索引和分片数量过多，这会导致集群状态过大，更新慢，**由单线程完成**



## 如何从MySQL同步到ES？





## 如何查询？ 







## 集群选择主节点





